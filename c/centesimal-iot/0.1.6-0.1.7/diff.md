# Comparing `tmp/centesimal_iot-0.1.6-py2.py3-none-any.whl.zip` & `tmp/centesimal_iot-0.1.7-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,26 +1,26 @@
-Zip file size: 24160 bytes, number of entries: 24
--rw-rw-r--  2.0 unx      127 b- defN 23-May-26 11:14 iot/__init__.py
+Zip file size: 25082 bytes, number of entries: 24
+-rw-rw-r--  2.0 unx      127 b- defN 23-May-28 19:14 iot/__init__.py
 -rw-rw-r--  2.0 unx      387 b- defN 23-Apr-17 09:42 iot/cli.py
 -rw-rw-r--  2.0 unx     4957 b- defN 23-Apr-17 11:32 iot/helpers.py
 -rw-rw-r--  2.0 unx       51 b- defN 23-Apr-17 09:52 iot/iot.py
 -rw-rw-r--  2.0 unx      795 b- defN 23-May-25 16:27 iot/cli/__init__.py
 -rw-rw-r--  2.0 unx     5068 b- defN 23-Apr-26 09:33 iot/cli/describe.py
--rw-rw-r--  2.0 unx     4482 b- defN 23-May-28 11:42 iot/cli/inventory.py
+-rw-rw-r--  2.0 unx     6109 b- defN 23-May-28 19:02 iot/cli/inventory.py
 -rw-rw-r--  2.0 unx     2498 b- defN 23-May-26 07:47 iot/cli/plan.py
 -rw-rw-r--  2.0 unx     2907 b- defN 23-May-23 15:23 iot/cli/real.py
 -rw-rw-r--  2.0 unx     1622 b- defN 23-Apr-26 09:31 iot/cli/roles.py
 -rw-rw-r--  2.0 unx      809 b- defN 23-Apr-27 10:06 iot/cli/run.py
 -rw-rw-r--  2.0 unx     3247 b- defN 23-May-23 15:23 iot/cli/target.py
 -rw-rw-r--  2.0 unx     3246 b- defN 23-Apr-26 17:36 iot/cli/test.py
 -rw-rw-r--  2.0 unx     1795 b- defN 23-Apr-26 09:30 iot/cli/users.py
 -rw-rw-r--  2.0 unx     3258 b- defN 23-May-23 15:23 iot/cli/watch.py
--rw-rw-r--  2.0 unx    15853 b- defN 23-May-20 17:56 iot/cli/wingdbstub.py
+-rw-rw-r--  2.0 unx    17520 b- defN 23-May-28 17:50 iot/cli/wingdbstub.py
 -rw-rw-r--  2.0 unx     1918 b- defN 23-Apr-26 09:35 iot/cli/workspaces.py
--rw-rw-r--  2.0 unx     2766 b- defN 23-May-26 09:41 iot/tools/__init__.py
--rw-rw-r--  2.0 unx      162 b- defN 23-May-28 11:42 centesimal_iot-0.1.6.dist-info/AUTHORS.rst
--rw-rw-r--  2.0 unx     1222 b- defN 23-May-28 11:42 centesimal_iot-0.1.6.dist-info/METADATA
--rw-rw-r--  2.0 unx      110 b- defN 23-May-28 11:42 centesimal_iot-0.1.6.dist-info/WHEEL
--rw-rw-r--  2.0 unx       37 b- defN 23-May-28 11:42 centesimal_iot-0.1.6.dist-info/entry_points.txt
--rw-rw-r--  2.0 unx        4 b- defN 23-May-28 11:42 centesimal_iot-0.1.6.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     1841 b- defN 23-May-28 11:42 centesimal_iot-0.1.6.dist-info/RECORD
-24 files, 59162 bytes uncompressed, 21236 bytes compressed:  64.1%
+-rw-rw-r--  2.0 unx     2759 b- defN 23-May-28 18:42 iot/tools/__init__.py
+-rw-rw-r--  2.0 unx      162 b- defN 23-May-28 19:14 centesimal_iot-0.1.7.dist-info/AUTHORS.rst
+-rw-rw-r--  2.0 unx     1222 b- defN 23-May-28 19:14 centesimal_iot-0.1.7.dist-info/METADATA
+-rw-rw-r--  2.0 unx      110 b- defN 23-May-28 19:14 centesimal_iot-0.1.7.dist-info/WHEEL
+-rw-rw-r--  2.0 unx       37 b- defN 23-May-28 19:14 centesimal_iot-0.1.7.dist-info/entry_points.txt
+-rw-rw-r--  2.0 unx        4 b- defN 23-May-28 19:14 centesimal_iot-0.1.7.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     1841 b- defN 23-May-28 19:14 centesimal_iot-0.1.7.dist-info/RECORD
+24 files, 62449 bytes uncompressed, 22158 bytes compressed:  64.5%
```

## zipnote {}

```diff
@@ -48,26 +48,26 @@
 
 Filename: iot/cli/workspaces.py
 Comment: 
 
 Filename: iot/tools/__init__.py
 Comment: 
 
-Filename: centesimal_iot-0.1.6.dist-info/AUTHORS.rst
+Filename: centesimal_iot-0.1.7.dist-info/AUTHORS.rst
 Comment: 
 
-Filename: centesimal_iot-0.1.6.dist-info/METADATA
+Filename: centesimal_iot-0.1.7.dist-info/METADATA
 Comment: 
 
-Filename: centesimal_iot-0.1.6.dist-info/WHEEL
+Filename: centesimal_iot-0.1.7.dist-info/WHEEL
 Comment: 
 
-Filename: centesimal_iot-0.1.6.dist-info/entry_points.txt
+Filename: centesimal_iot-0.1.7.dist-info/entry_points.txt
 Comment: 
 
-Filename: centesimal_iot-0.1.6.dist-info/top_level.txt
+Filename: centesimal_iot-0.1.7.dist-info/top_level.txt
 Comment: 
 
-Filename: centesimal_iot-0.1.6.dist-info/RECORD
+Filename: centesimal_iot-0.1.7.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## iot/__init__.py

```diff
@@ -1,5 +1,5 @@
 """Top-level package for iot."""
 
 __author__ = """Asterio Gonzalez"""
 __email__ = 'apastor@cibernos.com'
-__version__ = '0.1.3'
+__version__ = '0.1.7'
```

## iot/cli/inventory.py

```diff
@@ -1,19 +1,21 @@
 import asyncio
 import re
 import os
 import click
 
-from pycelium.shell import Reactor, DefaultExecutor
+from pycelium.action import Action
 from pycelium.installer import Installer
+from pycelium.shell import Reactor, DefaultExecutor
+from pycelium.rsync import Rsync  # forced import (late-binding)
 
 # from pycelium.pastor import Pastor
 # from pycelium.scanner import Settler
 
-from pycelium.tools import soft, expandpath, xoft
+from pycelium.tools import soft, expandpath, parse_uri
 from pycelium.tools.persistence import find_files
 from pycelium.tools.cli.inventory import (
     inventory,
     credentials,
     INVENTORY_ROOT,
     explore_host,
     get_mac,
@@ -162,7 +164,67 @@
         r'(Address\s+=\s+[\d\.]+)(/16)': r'\1/32',
         r'(AllowedIPs\s+=\s+10.220)(.2.33)/(16|32)': r'\1.0.0/16',
     }
     for pattern, repl in rules.items():
         text = re.sub(pattern, repl, text)
 
     return text
+
+
+@inventory.command()
+# @click.argument('filename', default='sample.gan')
+@click.option("--source", default='./templates')
+@click.option("--uri", default='agp@wsentinel:~/workspace/iot/templates')
+@click.pass_obj
+def rsync(env, source, uri):
+    """Copy WG config files from other locations"""
+    config.callback()
+    analyze_args(env, uri)
+
+    ctx = env.__dict__
+
+    # folders = [source]
+    # includes = [include]
+
+    # found = find_files(
+    # folders=folders,
+    # includes=includes,
+    # )
+
+    # includes = ctx.get('includes', [])
+
+    # tags.add('base')
+    # for t in tags:
+    # for t in re.findall(r'\w+', t):
+    # includes.append(f'(.*?\.)?{t}\.yaml')
+
+    reactor = Reactor(env=ctx)
+
+    conn = DefaultExecutor(**ctx)
+    reactor.attach(conn)
+
+    # stm = Settler(daemon=False)
+    stm = Dummy(source=source, target=uri)
+    reactor.attach(stm)
+
+    # magic ...
+    asyncio.run(reactor.main())
+
+
+class Dummy(Action):
+    """ """
+
+    def __init__(self, source, target, *args, **kw):
+        self._stop_no_seq = False  # wait until fibers have done
+        super().__init__(*args, **kw)
+        self.source = source
+        self.target = target
+        foo = 1
+
+    # --------------------------------------------------
+    # Coded as sequence: # TODO: review
+    # --------------------------------------------------
+    async def _seq_10_rsync_remote(self, *args, **kw):
+        executor = await self.is_connected()
+        result = await executor.rsync(self.source, self.target)
+
+        return True
```

## iot/cli/wingdbstub.py

```diff
@@ -31,14 +31,57 @@
 import os
 
 if sys.version_info >= (3, 7):
     import importlib
 else:
     import imp
 
+import traceback
+
+RED = "\033[0;31m"
+GREEN = "\033[0;32m"
+YELLOW = "\033[0;33m"
+BLUE = "\033[0;34m"
+PURPLE = "\033[0;35m"
+CYAN = "\033[0;36m"
+GRAY = "\033[0;37m"
+WHITE = "\033[0;38m"
+XXXX = "\033[0;39m"
+ITALIC = "\033[3m"
+# sum +10 to BG color when set x;y pair colors: e.g. red over cyan -> (31;36) ->\e[31;46m
+RESET = "\033[00;00m"
+
+
+def do_nothing(*args, **kw):
+    pass
+
+
+def _debug(*args, **kw):
+    echo(f"{BLUE}", end='')
+    echo(*args, **kw, end='')
+    echo(f"{RESET}")
+
+
+def _info(*args, **kw):
+    echo(f"{GREEN}", end='')
+    echo(*args, **kw, end='')
+    echo(f"{RESET}")
+
+
+def _warn(*args, **kw):
+    echo(f"{YELLOW}", end='')
+    echo(*args, **kw, end='')
+    echo(f"{RESET}")
+
+
+if True or __debug__:
+    echo = print
+else:
+    echo = do_nothing
+
 # ------------------------------------------------------------------------
 # Required configuration values (some installers set this automatically)
 
 
 # This should be the full path to your Wing installation.  On macOS, use
 # the full path of the Wing application bundle, for example
 # /Applications/WingPro.app.  When set to None, the environment variable
@@ -63,41 +106,40 @@
 
                     # t(f"BINGO: bootstrap_folder={folder}")
                     return path
 
 
 # print("1" * 10)
 WINGHOME = os.environ.get('WINGHOME')
-# print(f"1- WINGHOME: {WINGHOME}")
+_debug(f"1- ENV WINGHOME: {WINGHOME}")
 search = True
 if WINGHOME:
     # print("2" * 10)
     try:
         WINGHOME = os.path.expanduser(WINGHOME)
         # print("3" * 10)
         if os.path.exists(WINGHOME):
             # print("8" * 10)
             search = False
         else:
             # print("4" * 10)
-
             search = eval(WINGHOME)
             # print("5" * 10)
     except Exception as why:
         # print("6" * 10)
         search = True
 
-
+_debug(f"7- WINGHOME: {WINGHOME}, search bootstrao: {search}")
 if search:
-    ##print("7" * 10)
     bootstrap = find_bootstrap()
     if bootstrap:
-        print(f"found bootstap at: {bootstrap}")
         sys.path.insert(0, bootstrap)
         WINGHOME = os.path.dirname(bootstrap)
+        _debug(f"found bootstap at: {bootstrap}, set WINGHOME: {WINGHOME}")
+        _debug(f"sys.path: {sys.path}")
 
 
 # print(f"2- WINGHOME: {WINGHOME}")
 # ------------------------------------------------------------------------
 # Optional configuration values:  The named environment variables, if set,
 # will override these settings.
 
@@ -313,17 +355,25 @@
             type(very_verbose_log) == type('')
             and very_verbose_log.strip() == ''
         ):
             very_verbose_log = 0
 
         # Determine remote host/port where the IDE is running
         hostport = os.environ.get('WINGDB_HOSTPORT', kWingHostPort)
+
         colonpos = hostport.find(':')
-        host = hostport[:colonpos]
-        port = int(hostport[colonpos + 1 :])
+        if colonpos < 0:
+            host = hostport
+            port = '50005'  # default one
+        else:
+            host = hostport[:colonpos]
+            port = int(hostport[colonpos + 1 :])
+        _warn(
+            f"hostport: {hostport}, host: {host}, port: {port}, colonpos: {colonpos}"
+        )
 
         # Determine port to listen on locally for attach requests
         attachport = int(os.environ.get('WINGDB_ATTACHPORT', kAttachPort))
 
         # Check if running embedded script
         embedded = int(os.environ.get('WINGDB_EMBEDDED', kEmbedded))
 
@@ -378,14 +428,24 @@
         )
 
         # Write any temporary log entries
         for s in tmp_log.fErrors:
             err.write(s)
 
         # Create debug server
+        _info("WINGDB parameters")
+        _info('-' * 70)
+        _info(f"host: {host}:{port}")
+        _info(f"attachport {attachport}")
+        # echo(f"err: {err:15}")
+        _info(f"security_token: {security_token}")
+        _info(f"pwfile_path: {pwfile_path}")
+        _info(f"pwfile_name: {pwfile_name}")
+        _info(f"embedded: {embedded}")
+        _info('-' * 70)
         debugger = netserver.CNetworkServer(
             host,
             port,
             attachport,
             err,
             security_token=security_token,
             pwfile_path=pwfile_path,
@@ -401,21 +461,27 @@
         )
 
         # Start debugging
         debugger.StartDebug(stophere=0)
         os.environ['WINGDB_ACTIVE'] = str(os.getpid())
         if debugger.ChannelClosed():
             raise ValueError('Not connected')
+        _debug('WINGDB is connected')
+
+    except Exception as why:
+        _warn(f"Error trying to connect with remote debugger: {why}")
+        traceback.print_exc()
 
-    except:
         if exit_on_fail:
             raise
         else:
             pass
 
+    _debug('exit wingdbstub...')
+
 
 # -----------------------------------------------------------------------
 def Ensure(require_connection=1, require_debugger=1):
     """Ensure the debugger is started and attempt to connect to the IDE if
     not already connected.  Will raise a ValueError if:
 
     * the require_connection arg is true and the debugger is unable to connect
```

## iot/tools/__init__.py

```diff
@@ -49,34 +49,34 @@
     if isinstance(include, str):
         include = include.split(",")
     elif not include:
         include = [
             p.format_map(ctx)
             for p in [
                 "{host}\.yaml",
-                "specs\.yaml",
+                "base\.yaml",
             ]
         ]
 
     host = ctx.get('host')
     m = re.match(r'(?P<host>(?P<family>[^\d]+)(?P<node_id>\d+))', host)
     if m:
         ctx.update(m.groupdict())
-        for pattern in '{family}.specs.yaml', '.*{node_id}.*.specs.yaml':
+        for pattern in '{family}.yaml', '.*{node_id}.yaml':
             include.append(pattern.format_map(ctx))
 
     foo = 1
 
     ctx["includes"] = include
     ctx["folders"] = ctx.get("specs", 'specs')
     target = merge_yaml(sort_pattern=SORT_PATTERN, **ctx)
     return target
 
 
-def analyze_args(env, uri, include, output, tag=[]):
+def analyze_args(env, uri, include=[], output=True, tag=[]):
     extend_config(env)
     uri = uri or 'localhost'
 
     ctx = parse_uri(uri, **env.__dict__)
     soft(ctx, user=getpass.getuser(), password='123456', host='localhost')
 
     # localhost case
```

## Comparing `centesimal_iot-0.1.6.dist-info/METADATA` & `centesimal_iot-0.1.7.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: centesimal-iot
-Version: 0.1.6
+Version: 0.1.7
 Summary: IoT infrastructure
 Home-page: https://github.com/asterio.gonzalez/iot
 Author: Asterio Gonzalez
 Author-email: apastor@cibernos.com
 Keywords: iot
 Classifier: Development Status :: 2 - Pre-Alpha
 Classifier: Intended Audience :: Developers
```

## Comparing `centesimal_iot-0.1.6.dist-info/RECORD` & `centesimal_iot-0.1.7.dist-info/RECORD`

 * *Files 23% similar despite different names*

```diff
@@ -1,24 +1,24 @@
-iot/__init__.py,sha256=PiNQBnUl8_HQx8oUUSQREW7-qswmbwu3IY3Pex3u7q8,127
+iot/__init__.py,sha256=Kjeby5I3tTX79wcXCvmLDdL8-umqOxSQu19HEd0zuog,127
 iot/cli.py,sha256=NWisFZ8exvfNi2zG1-zYdrVQ_gzuQX2bZS5kKFYiLEU,387
 iot/helpers.py,sha256=OI2cmpWFz6RFP5Nt0TiZxw5jozc8OF_D0hoNjFzndSQ,4957
 iot/iot.py,sha256=VimQ94AIw9Q9XQ4vKq8PbUezS7PNcLk_EMNYtCzS6rU,51
 iot/cli/__init__.py,sha256=sIcEEUjYgl3Ff2z1LaKtL2G8uJVrq4sIjfKWOQnXBMc,795
 iot/cli/describe.py,sha256=1JRLUaFIGXYkEfnBUAd04T3hDTGI04ynJbRsEYpAcJY,5068
-iot/cli/inventory.py,sha256=WQqqiaf9hwn71SqvT4VCG8OZyLps3tDhjeDdKOEw4JA,4482
+iot/cli/inventory.py,sha256=FKoK0kH3maUHt_kZGJZRAmBdPNiTbYvD2TpNSwGw33Q,6109
 iot/cli/plan.py,sha256=wGsrGpxPXnLR3Hid4hEn4NEMb0GJ0eJcbhRQJkoH0d8,2498
 iot/cli/real.py,sha256=rfVF8Omf3a6jyzenWkUTIH6tIYkglPFr0SLBrWY5AIA,2907
 iot/cli/roles.py,sha256=WNWwgUXLk9JK56EsBbS7Bk4PNYg4yWlCqQd_DKLFtkA,1622
 iot/cli/run.py,sha256=U3xMRpybPXMipDy98DB1VFR6vbRXOHyCBOGdacY8tFo,809
 iot/cli/target.py,sha256=bRXllA2pvqKORTFe_Yohmh87JkekpHTCg-qMW_RiC-A,3247
 iot/cli/test.py,sha256=C0lqt8IQEGo2cOoHR43G1jcAlkoOillZ2Q0WYfV7H1A,3246
 iot/cli/users.py,sha256=sair249wY-fG4E6ayZIpxDcI6IxVY2UcItOnc85zlwE,1795
 iot/cli/watch.py,sha256=-ZUVZEaHvuL0zbKHnzGPVjBaOzcyj6-naP4GOx0kjjQ,3258
-iot/cli/wingdbstub.py,sha256=lV72joWEBWLtQM-SaDZchxe72UGZkhaa1dT0h192vpI,15853
+iot/cli/wingdbstub.py,sha256=gudSdjjvFcxHpHq7Z-oMza0o7_LehSsqtFYirFc2CV8,17520
 iot/cli/workspaces.py,sha256=6XRO-aYZy_aFXHoIbumlpHTmEFPyylMBIaR1RbI57Ns,1918
-iot/tools/__init__.py,sha256=AVGIL_fR5ChEV9r692EWA0eNHZFeeO3tydt85jnGBu4,2766
-centesimal_iot-0.1.6.dist-info/AUTHORS.rst,sha256=DJWRsAX9L2yG7FsyDzWBb8G9Oeb0cvjnUxyPZR_5elM,162
-centesimal_iot-0.1.6.dist-info/METADATA,sha256=_qoIMAMqt86RB1IXjcCytFRshVQc61rowA4n1iBxj38,1222
-centesimal_iot-0.1.6.dist-info/WHEEL,sha256=a-zpFRIJzOq5QfuhBzbhiA1eHTzNCJn8OdRvhdNX0Rk,110
-centesimal_iot-0.1.6.dist-info/entry_points.txt,sha256=shS0YwmHrq5G3uFwO3YHoSeUmRstZj4KcaJW-bn5CB4,37
-centesimal_iot-0.1.6.dist-info/top_level.txt,sha256=GrFBYwTe_zimcbxQb9lowAJUNeDArWJA0esDNiSx9Kw,4
-centesimal_iot-0.1.6.dist-info/RECORD,,
+iot/tools/__init__.py,sha256=YlZjhGRX1VYnpphuK7OrwxOxuCEnpoCwC891wH6O4u4,2759
+centesimal_iot-0.1.7.dist-info/AUTHORS.rst,sha256=DJWRsAX9L2yG7FsyDzWBb8G9Oeb0cvjnUxyPZR_5elM,162
+centesimal_iot-0.1.7.dist-info/METADATA,sha256=HUFAwjJDYQc3RBUU6Zg74RMkdGYwiJV2sonUm0x7bTU,1222
+centesimal_iot-0.1.7.dist-info/WHEEL,sha256=a-zpFRIJzOq5QfuhBzbhiA1eHTzNCJn8OdRvhdNX0Rk,110
+centesimal_iot-0.1.7.dist-info/entry_points.txt,sha256=shS0YwmHrq5G3uFwO3YHoSeUmRstZj4KcaJW-bn5CB4,37
+centesimal_iot-0.1.7.dist-info/top_level.txt,sha256=GrFBYwTe_zimcbxQb9lowAJUNeDArWJA0esDNiSx9Kw,4
+centesimal_iot-0.1.7.dist-info/RECORD,,
```

